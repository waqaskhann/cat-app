[{"/Users/waqaskhan/Sites/cat-app/src/index.js":"1","/Users/waqaskhan/Sites/cat-app/src/App.js":"2","/Users/waqaskhan/Sites/cat-app/src/reportWebVitals.js":"3","/Users/waqaskhan/Sites/cat-app/src/pages/Homepage.js":"4","/Users/waqaskhan/Sites/cat-app/src/pages/CatSinglePage.js":"5"},{"size":535,"mtime":1681645059729,"results":"6","hashOfConfig":"7"},{"size":817,"mtime":1681728425413,"results":"8","hashOfConfig":"9"},{"size":362,"mtime":1681645059729,"results":"10","hashOfConfig":"7"},{"size":3323,"mtime":1681727833146,"results":"11","hashOfConfig":"9"},{"size":1535,"mtime":1681728154257,"results":"12","hashOfConfig":"9"},{"filePath":"13","messages":"14","suppressedMessages":"15","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"slhzv",{"filePath":"17","messages":"18","suppressedMessages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1a36z1q",{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"23","messages":"24","suppressedMessages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"27"},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"27"},"/Users/waqaskhan/Sites/cat-app/src/index.js",[],[],[],"/Users/waqaskhan/Sites/cat-app/src/App.js",[],[],"/Users/waqaskhan/Sites/cat-app/src/reportWebVitals.js",[],[],"/Users/waqaskhan/Sites/cat-app/src/pages/Homepage.js",["32","33"],[],"import React, { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { AppContext } from '../App';\n\nconst Homepage = () => {\n  const { breed, setBreed } = useContext(AppContext);\n  const { lastVisitedWasSingle, setLastVisitedWasSingle } = useContext(AppContext);\n  const { cats, setCats } = useContext(AppContext);\n  const [breeds, setBreeds] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoading, setIsLoading] = useState(true);\n  const [loadedCats, setLoadedCats] = useState(0);\n\n  useEffect(() => {\n    // Fetch all available breeds to populate select\n    const fetchBreeds = async () => {\n      try {\n        const response = await axios.get('https://api.thecatapi.com/v1/breeds');\n        setBreeds(response.data);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    fetchBreeds();\n    setLastVisitedWasSingle(false)\n  }, []);\n\n\n  useEffect(() => {\n    // Fetch cats based on breed and page number\n    const fetchCats = async () => {\n      setIsLoading(true);\n\n      try {\n        const response = await axios.get(`https://api.thecatapi.com/v1/images/search?breed_id=${breed}&limit=10&page=${page}`);\n        const newCats = response.data.filter(cat => !cats.some(existingCat => existingCat.id === cat.id)); // Filter out duplicates\n        setCats(prevCats => [...prevCats, ...newCats]);\n        setLoadedCats(prevLoadedCats => prevLoadedCats + newCats.length);\n        setIsLoading(false);\n      } catch (error) {\n        alert(\"Apologies but we could not load new cats for you at this time! Miau!\")        \n        setIsLoading(false);\n      }\n    };\n\n    // Only fetch cats if breed is selected\n    if(breed) {\n      fetchCats();\n    } else if (breed && lastVisitedWasSingle) {\n\n    } else {\n      setCats([]);\n      setPage(1);\n      setLoadedCats(0);\n    }\n    }, [breed,page]);\n\n  const renderCats = () => {\n    if (!breed) {\n      return <div>Please select a breed.</div>;\n    }\n\n    if (isLoading) {\n      return <div>Loading cats...</div>;\n    }\n\n    if (cats.length === 0) {\n      return <div>No cats found for the selected breed.</div>;\n    }\n\n    return cats.map(cat => (\n      <div key={cat.id} className=\"card\">\n        <figure className=\"card__img-wrapper\">\n          <img src={cat.url} alt={`Cat ${cat.id}`} className=\"card__img\"/>\n        </figure>\n        <Link to={`/${cat.id}`} className=\"card__cta\">View details</Link>\n      </div>\n    ));\n  };\n\n  const loadMoreCats = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const allCatsLoaded = loadedCats < page * 10;\n\n  const handleBreedChange = (e) => {\n    setBreed(e.target.value);\n    setCats([]);\n    setPage(1);\n    setLoadedCats(0);\n  };\n\n  return (\n    <div className=\"content-wrapper\">\n      <h1>Cat browser</h1>\n      <select value={breed} onChange={handleBreedChange}>\n        <option value=\"\">Select Breed</option>\n        {breeds.map(breed => (\n          <option key={breed.id} value={breed.id}>{breed.name}</option>\n        ))}\n      </select>\n      <div className=\"cards\">\n        {renderCats()}\n      </div>\n      {!allCatsLoaded &&\n        <button onClick={loadMoreCats} disabled={isLoading}>\n          {isLoading ? 'Loading...' : 'Load More'}\n        </button>\n      }\n    </div>\n  );\n};\n\nexport default Homepage;",[],"/Users/waqaskhan/Sites/cat-app/src/pages/CatSinglePage.js",["34","35"],[],"import React, { useContext, useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { AppContext } from '../App';\n\n\nconst CatSinglePage = () => {\n  const { lastVisitedWasSingle, setLastVisitedWasSingle } = useContext(AppContext);\n  const { catId } = useParams();\n  const [cat, setCat] = useState(null);\n\n  useEffect(() => {\n    // Fetch data based on cat ID\n    const fetchCat = async () => {\n        try {\n        const response = await axios.get(`https://api.thecatapi.com/v1/images/${catId}`);\n        setCat(response.data);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    \n    fetchCat();\n\n    setLastVisitedWasSingle(true)\n  }, [catId]);\n\n  // Render cat data\n  const renderCat = () => {\n    if (!cat) {\n      return <div>Loading cat...</div>;\n    }\n\n    return (\n      <div>\n        <Link to={`/`} className=\"back-btn\">Back to Homepage</Link>\n        <div className=\"cat\">\n          <figure className=\"cat__img-wrapper\">\n            <img className=\"cat__img\" src={cat.url} alt={`Cat ${cat.id}`} />\n          </figure>\n          <div className=\"cat__info\">\n            <h1>{cat.breeds[0].name}</h1>\n            <p className=\"cat__origin\">Origin: {cat.breeds[0].origin}</p>\n            <p className=\"cat__temperament\">{cat.breeds[0].temperament}</p>\n            <p className=\"cat__description\">{cat.breeds[0].description}</p>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return renderCat();\n};\n\nexport default CatSinglePage;\n",{"ruleId":"36","severity":1,"message":"37","line":28,"column":6,"nodeType":"38","endLine":28,"endColumn":8,"suggestions":"39"},{"ruleId":"36","severity":1,"message":"40","line":58,"column":8,"nodeType":"38","endLine":58,"endColumn":20,"suggestions":"41"},{"ruleId":"42","severity":1,"message":"43","line":8,"column":11,"nodeType":"44","messageId":"45","endLine":8,"endColumn":31},{"ruleId":"36","severity":1,"message":"37","line":26,"column":6,"nodeType":"38","endLine":26,"endColumn":13,"suggestions":"46"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setLastVisitedWasSingle'. Either include it or remove the dependency array.","ArrayExpression",["47"],"React Hook useEffect has missing dependencies: 'cats', 'lastVisitedWasSingle', and 'setCats'. Either include them or remove the dependency array.",["48"],"no-unused-vars","'lastVisitedWasSingle' is assigned a value but never used.","Identifier","unusedVar",["49"],{"desc":"50","fix":"51"},{"desc":"52","fix":"53"},{"desc":"54","fix":"55"},"Update the dependencies array to be: [setLastVisitedWasSingle]",{"range":"56","text":"57"},"Update the dependencies array to be: [breed, cats, lastVisitedWasSingle, page, setCats]",{"range":"58","text":"59"},"Update the dependencies array to be: [catId, setLastVisitedWasSingle]",{"range":"60","text":"61"},[939,941],"[setLastVisitedWasSingle]",[1887,1899],"[breed, cats, lastVisitedWasSingle, page, setCats]",[724,731],"[catId, setLastVisitedWasSingle]"]